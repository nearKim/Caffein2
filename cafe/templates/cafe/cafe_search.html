{% extends 'base_cafe.html' %}
{% load static %}
{% block title %} Cafe 검색{% endblock title %}

{% block content %}
    <form action="{% url 'cafe:search-place' %}" method="post">
        {% csrf_token %}
        <input id="search" name="search" type="text" class="query-search"
               placeholder="Search...">
        <input class="btn btn-primary" type="submit" value="submit">
    </form>

    <script type="text/javascript"
            src="https://openapi.map.naver.com/openapi/v3/maps.js?clientId=_y2F3mssJyRxB52SCJaN&submodules=geocoder"></script>
    <div id="map" style="width:100%;height:400px;"></div>
    <div id="selected-marker"></div>


    <script type="text/javascript">
        {# https://codewithbenefit.com/pass-variables-from-flask-python-server-to-javascript-files-e3366b947f7c#}
        window.appConfig = {
            places: {% if places %}
                    {{ places | safe }}
                    {% else %}
                    ['init']
                    {% endif %}
        }
    </script>
    <script type="text/javascript" src="{% static 'cafe/js/map_search.js' %}"></script>
{% endblock %}
